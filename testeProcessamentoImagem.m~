clear all;
close all;
clc;

oldImage = imread('Imagens/Formas_3/square/215.png');
% [x y] = size(oldImage);

noiselessImage = medfilt2(oldImage,[8 8],'symmetric');
noiselessImage = 

resizedImage = imbinarize(imresize(noiselessImage, [20 20]));

leftCrop = round(find(imrotate(noiselessImage,90)==0,1,'first')/200)-1;
topCrop = round(find(noiselessImage==0,1,'first')/200)-1;
rightCrop = round(find(imrotate(noiselessImage,90)==0,1,'last')/200)+1-leftCrop;
bottomCrop = round(find(noiselessImage==0,1,'last')/200)+1-topCrop;
croppedImage = imcrop(noiselessImage,[leftCrop topCrop rightCrop bottomCrop]);

resizedImage = imbinarize(imresize(noiselessImage, [20 20]));

subplot(,3,1);
imshow(oldImage,'InitialMagnification','fit');
title('Old Image');
axis on;
subplot(2,3,2);
imshow(noiselessImage,'InitialMagnification','fit');
title('Noiseless Image');
axis on;
subplot(2,3,3);
imshow(resizedImage,'InitialMagnification','fit');
title('Resized Image');
axis on;
subplot(2,3,4);
imshow(croppedImage,'InitialMagnification','fit');
title('Cropped Image');
axis on;
subplot(2,3,5);
imshow(imrotate(noiselessImage,90),'InitialMagnification','fit');
title('Rotated Image');
axis on;